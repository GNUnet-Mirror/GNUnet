.\" -*- mode: nroff -*-
.\" This file is part of Ascension.
.\" Copyright (C) 2012-2015,2018,2019 GNUnet e.V.
.\"
.\" Permission is granted to copy, distribute and/or modify this document
.\" under the terms of the GNU Free Documentation License, Version 1.3 or
.\" any later version published by the Free Software Foundation; with no
.\" Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.  A
.\" copy of the license is included in the file
.\" ``FDL-1.3''.
.\"
.\" A copy of the license is also available from the Free Software
.\" Foundation Web site at @url{http://www.gnu.org/licenses/fdl.html}.
.\"
.\" Alternately, this document is also available under the General
.\" Public License, version 3 or later, as published by the Free Software
.\" Foundation.  A copy of the license is included in the file
.\" ``GPL3''.
.\"
.\" A copy of the license is also available from the Free Software
.\" Foundation Web site at @url{http://www.gnu.org/licenses/gpl.html}.
.\"
.\" SPDX-License-Identifier: GPL3.0-or-later OR FDL1.3-or-later
.\"
.Dd October 26, 2018
.Dt GNUNET.CONF 5
.Os
.Sh NAME
.Nm gnunet.conf
.Nd
GNUnet configuration file
.Sh DESCRIPTION
A GNUnet setup typically consists of a set of service processes run by a user "gnunet" and a set of user-interface processes run by a standard account.
The default location for the configuration file for the services is
.Pa ~gnunet/.config/gnunet.conf Ns ;
however, as normal users also may need read-access to this configuration, you might want to instead put the service process configuration in
.Pa @SYSCONFDIR@/gnunet.conf Ns .
gnunet-setup (part of gnunet-gtk) can be used to edit this configuration.
The parts of GNUnet that are run as a normal user may have config options too and they read from
.Pa $HOME/.config/gnunet.conf Ns .
The latter config file can skip any options for the services.
.Pp
The basic structure of the configuration file is the following.
The file is split into sections.
Every section begins with "[SECTIONNAME]" and contains a number of options of the form "OPTION=VALUE".
Empty lines and lines beginning with a "#" are treated as comments.
Almost all options are optional and the tools resort to reasonable defaults if they are not present.
.Pp
Default values for all of the options can be found in the files in the
.Pa $GNUNET_PREFIX/share/gnunet/config.d/
directory.
A typical setup will work out of the box with those.
See the examples section below for some common setups on top of that.
.Ss GENERAL OPTIONS
Many options will be common between sections.
They can be repeated under each section with different values.
The "[PATHS]" section is special.
Here, it is possible to specify values for variables like "GNUNET_HOME".
Then, in all filenames that begin with "$GNUNET_HOME" the "$GNUNET_HOME" will be replaced with the respective value at runtime.
The main use of this is to redefine "$GNUNET_HOME", which by default points to
.Pa $HOME/.config/ Ns .
By setting this variable, you can change the location where GNUnet stores its internal data.
.Pa gnunet.conf
accepts the variable "GNUNET_TMP" which we suggest to use in place of the absolute definition of
.Pa /tmp Ns .
So instead of
.Pa /tmp/foo
you would write "$GNUNET_TMP/foo".
The usage of "$GNUNET_TMP/foo", will result in "$TMPDIR/gnunet/foo", or  "$TMP/gnunet/foo" and finally, if "TMPDIR" is undefined, "/tmp/gnunet/foo".
The following options are generic and shared by all services:
.Bl -tag -width Ds
.It HOSTNAME
The hostname specifies the machine on which the service is running.
This is usually "localhost".
.It BINARY
The filename that implements the service.
For example "gnunet-service-ats".
.It IMMEDIATE_START
Start the service always when the peer starts.
Set to YES for services that should always be launched, even if no other service explicitly needs them.
.It START_ON_DEMAND
Set to YES to automatically start the service when it is requested by another service.
YES for most GNUnet services.
.It NOARMBIND
Set to YES to never have ARM bind to the respective socket.
This option is mostly for debugging in situations where ARM cannot pass the pre-bound socket to the child due to interference from PREFIX-commands.
This option is only effective in combination with IMMEDIATE_START being YES.
NO by default.
.It PREFIX
PREFIX the given command (with its arguments) to the actual BINARY to be executed.
Useful to run certain services under special supervisors (like strace or valgrind).
Typically used in combination with IMMEDIATE_START and NOARMBIND.
Empty by default.
.It ACCEPT_FROM
A semi-column separated list of IPv4 addresses that are allowed to use the service; usually 127.0.0.1.
.It ACCEPT_FROM6
A semi-column separated list of IPv6 addresses that are allowed to use the service; usually ::1.
.It UNIXPATH
Path to use for the UNIX domain socket for inter process communication with the service on POSIX systems.
.It UNIX_MATCH_UID
If UNIX domain sockets are used, set this to YES if only users with the same UID are allowed to access the service.
.It UNIX_MATCH_GID
If UNIX domain sockets are used, set this to YES if only users with the same GID are allowed to access the service.
.It RUN_PER_USER
Set to YES if this service should be run per-user, NO if this is a system service.
End-users should never have to change the defaults GNUnet provides for this option.
.El
.Ss ATS OPTIONS
.Bl -tag -width Ds
.It UNSPECIFIED_QUOTA_IN
quotes in KiB or MiB per seconds.
Or use the word "unlimited"
.It UNSPECIFIED_QUOTA_OUT
quotes in KiB or MiB per seconds.
Or use the word "unlimited"
.It LOOPBACK_QUOTA_IN
quotes in KiB or MiB per seconds.
Or use the word "unlimited"
.It LOOPBACK_QUOTA_OUT
quotes in KiB or MiB per seconds.
Or use the word "unlimited"
.It LAN_QUOTA_IN
quotes in KiB or MiB per seconds.
Or use the word "unlimited"
.It LAN_QUOTA_OUT
quotes in KiB or MiB per seconds.
Or use the word "unlimited"
.It WAN_QUOTA_IN
quotes in KiB or MiB per seconds.
Or use the word "unlimited"
.It WAN_QUOTA_OUT
quotes in KiB or MiB per seconds.
Or use the word "unlimited"
.It WLAN_QUOTA_IN
quotes in KiB or MiB per seconds.
Or use the word "unlimited"
.It WLAN_QUOTA_OUT
quotes in KiB or MiB per seconds.
Or use the word "unlimited"
.El
.Sh EXAMPLES
This example is a simple way to get started, using a server that has a known list of peers to get you started.
Most users will be behind a firewall on IPv4, as such NAT is enabled.
Please remember to change your IP address to the actual external address for your usage.
.Bd -literal -offset indent -compact
    [hostlist]
    OPTIONS = \-b \-e

    [nat]
    BEHIND_NAT = YES
    ENABLE_UPNP = YES
    DISABLEV6 = YES
    EXTERNAL_ADDRESS = 157.166.249.10

    [arm]
    START_SYSTEM_SERVICES = YES
    START_USER_SERVICES = NO
.Ed
.Sh FILES
.Pa ~/.config/gnunet.conf
GNUnet configuration file
.Sh SEE ALSO
.Xr gnunet-arm 1 ,
.Xr gnunet-setup 1
.sp
The full documentation for gnunet is maintained as a Texinfo manual.
If the
.Xr info 1
and gnunet programs are properly installed at your site, the command
.Pp
.Dl info gnunet
.Pp
should give you access to the complete handbook,
.Pp
.Dl info gnunet-c-tutorial
.Pp
will give you access to a tutorial for developers.
.sp
Depending on your installation, this information is also available in
.Xr gnunet 7 and
.Xr gnunet-c-tutorial 7 .
.\".Sh HISTORY
.\".Sh AUTHORS
.Sh BUGS
Report bugs by using
.Lk https://bugs.gnunet.org
or by sending electronic mail to
.Aq Mt gnunet-developers@gnu.org .
