INCLUDES = -I$(top_srcdir)/src/include

if MINGW
  WINFLAGS = -Wl,--no-undefined -Wl,--export-all-symbols
endif

if USE_COVERAGE
  AM_CFLAGS = --coverage -O0
  XLIB = -lgcov
endif

bin_PROGRAMS = $(STUD_PROGS) \
 gnunet-service-mesh

lib_LTLIBRARIES = \
  libgnunetmesh.la

libgnunetmesh_la_SOURCES = \
  mesh_api.c
libgnunetmesh_la_LIBADD = \
  $(top_builddir)/src/util/libgnunetutil.la \
  $(top_builddir)/src/core/libgnunetcore.la \
  $(GN_LIBINTL) $(XLIB)
libgnunetmesh_la_LDFLAGS = \
  $(GN_LIB_LDFLAGS) $(WINFLAGS) \
  -version-info 0:0:0

gnunet_service_mesh_SOURCES = \
 gnunet-service-mesh.c         

gnunet_service_mesh_LDADD = \
  $(top_builddir)/src/core/libgnunetcore.la\
  $(top_builddir)/src/dht/libgnunetdht.la \
  $(top_builddir)/src/util/libgnunetutil.la

